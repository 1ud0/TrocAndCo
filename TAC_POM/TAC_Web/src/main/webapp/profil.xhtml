<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head>
	<title>RECHERCHE OBJET</title>
</h:head>
<h:body bgcolor='white'>

	<ui:composition template="/WEB-INF/templates/templateBase.xhtml">
		<ui:define name="content">
			<!-- *** DEBUT DU CORPS DE LA PAGE *** _________________________________________________________ -->

			<div class="container">
				<div class="row">
					<!--***partie pour la photo et les info perso*** _________________________________________________________ -->
					<div class="col-md-6">

						<div class="col-sm-4">
							<div class="image">
								<a href=""> <img src="#{mbProfil.membreCourant.avatar}"
									alt="" class="img-responsive img-circle tailleMaxImage"></img>
								</a>
							</div>
						</div>
						<div class="col-sm-8">
							<h4>
								<h:outputText value="#{mbProfil.membreCourant.pseudo}" />
							</h4>
							<p>
								<h:outputText
									value="#{mbProfil.membreCourant.nom} #{mbProfil.membreCourant.prenom}" />
							</p>
							<p>
								<h:outputText
									value="#{mbProfil.membreCourant.localisations.get(0).adresse}" />
							</p>
							<p>
								<h:outputText
									value="#{mbProfil.membreCourant.localisations.get(0).ville} #{mbProfil.membreCourant.localisations.get(0).codePostal}" />
							</p>
						</div>

					</div>
					<!--***Fin partie pour la photo et les info perso***  -->
					<!--***Note moyenne et étoiles*** -->
					<div class="col-md-6">

						<div class="row">
							<div class="col-xs-6 col-md-6 text-center">
								<h:panelGroup rendered="#{mbObjet.NoteVide(mbObjet.selectedProp.membre)}">
									<p class="rating-num">
										-/5
									</p>
									</h:panelGroup>
									<h:panelGroup rendered="#{!mbObjet.NoteVide(mbObjet.selectedProp.membre)}">
									<p class="rating-num">
										<h:outputText value="#{mbObjet.getNoteMoyenne(mbObjet.selectedProp.membre)}" />
										/5
									</p>
									</h:panelGroup>
								<div class="rating">
								
									<h:panelGroup rendered="#{mbProfil.getNoteMoyenne(mbObjet.selectedProp.membre) ge 1}">
									<span class="glyphicon glyphicon-star"></span>
									</h:panelGroup>
									<h:panelGroup rendered="#{mbProfil.getNoteMoyenne(mbObjet.selectedProp.membre) lt 1}">
									<span class="glyphicon glyphicon-star-empty"></span>
									</h:panelGroup>
									<h:panelGroup rendered="#{mbProfil.getNoteMoyenne(mbObjet.selectedProp.membre) ge 2}">
									<span class="glyphicon glyphicon-star"></span>
									</h:panelGroup>
									<h:panelGroup rendered="#{mbProfil.getNoteMoyenne(mbObjet.selectedProp.membre) lt 2}">
									<span class="glyphicon glyphicon-star-empty"></span>
									</h:panelGroup>
									<h:panelGroup rendered="#{mbProfil.getNoteMoyenne(mbObjet.selectedProp.membre) ge 3}">
									<span class="glyphicon glyphicon-star"></span>
									</h:panelGroup>
									<h:panelGroup rendered="#{mbProfil.getNoteMoyenne(mbObjet.selectedProp.membre) lt 3}">
									<span class="glyphicon glyphicon-star-empty"></span>
									</h:panelGroup>
									<h:panelGroup rendered="#{mbProfil.getNoteMoyenne(mbObjet.selectedProp.membre) ge 4}">
									<span class="glyphicon glyphicon-star"></span>
									</h:panelGroup>
									<h:panelGroup rendered="#{mbProfil.getNoteMoyenne(mbObjet.selectedProp.membre) lt 4}">
									<span class="glyphicon glyphicon-star-empty"></span>
									</h:panelGroup>
									<h:panelGroup rendered="#{mbProfil.getNoteMoyenne(mbObjet.selectedProp.membre) ge 5}">
									<span class="glyphicon glyphicon-star"></span>
									</h:panelGroup>
									<h:panelGroup rendered="#{mbProfil.getNoteMoyenne(mbObjet.selectedProp.membre) lt 5}">
									<span class="glyphicon glyphicon-star-empty"></span>
									</h:panelGroup>
								</div>
								<div>
									<span class="glyphicon glyphicon-user"></span> #{mbProfil.getNombreNote(mbObjet.selectedProp.membre)}
								</div>
							</div>
							<div class="col-xs-6 col-md-6">
								<div class="row rating-desc">
									<div class="col-xs-3 col-md-3 text-right">
										<span class="glyphicon glyphicon-star"></span>5
									</div>
									<div class="col-xs-8 col-md-9">
										<div class="progress progress-striped">
											<div class="progress-bar progress-bar-success"
												role="progressbar" aria-valuenow="20" aria-valuemin="0"
												aria-valuemax="100" style="width: #{mbProfil.getNombreNoteValeur(5, mbObjet.selectedProp.membre)}%">
												<span class="sr-only">80%</span>
											</div>
										</div>
									</div>
									<!-- end 5 -->
									<div class="col-xs-3 col-md-3 text-right">
										<span class="glyphicon glyphicon-star"></span>4
									</div>
									<div class="col-xs-8 col-md-9">
										<div class="progress">
											<div class="progress-bar progress-bar-success"
												role="progressbar" aria-valuenow="20" aria-valuemin="0"
												aria-valuemax="100" style="width: #{mbProfil.getNombreNoteValeur(4, mbObjet.selectedProp.membre)}%">
												<span class="sr-only">60%</span>
											</div>
										</div>
									</div>
									<!-- end 4 -->
									<div class="col-xs-3 col-md-3 text-right">
										<span class="glyphicon glyphicon-star"></span>3
									</div>
									<div class="col-xs-8 col-md-9">
										<div class="progress">
											<div class="progress-bar progress-bar-info"
												role="progressbar" aria-valuenow="20" aria-valuemin="0"
												aria-valuemax="100" style="width: #{mbProfil.getNombreNoteValeur(3, mbObjet.selectedProp.membre)}%">
												<span class="sr-only">40%</span>
											</div>
										</div>
									</div>
									<!-- end 3 -->
									<div class="col-xs-3 col-md-3 text-right">
										<span class="glyphicon glyphicon-star"></span>2
									</div>
									<div class="col-xs-8 col-md-9">
										<div class="progress">
											<div class="progress-bar progress-bar-warning"
												role="progressbar" aria-valuenow="20" aria-valuemin="0"
												aria-valuemax="100" style="width: #{mbProfil.getNombreNoteValeur(2, mbObjet.selectedProp.membre)}%">
												<span class="sr-only">20%</span>
											</div>
										</div>
									</div>
									<!-- end 2 -->
									<div class="col-xs-3 col-md-3 text-right">
										<span class="glyphicon glyphicon-star"></span>1
									</div>
									<div class="col-xs-8 col-md-9">
										<div class="progress">
											<div class="progress-bar progress-bar-danger"
												role="progressbar" aria-valuenow="80" aria-valuemin="0"
												aria-valuemax="100" style="width: #{mbProfil.getNombreNoteValeur(1, mbObjet.selectedProp.membre)}%">
												<span class="sr-only">15%</span>
											</div>
										</div>
									</div>
									<!-- end 1 -->
								</div>
								<!-- end row -->
							</div>
						</div>

					</div>
				</div>

				<!--*** FIN Note moyenne et étoiles*** _________________________________________________________ -->
				<!--*** Ses Objets*** _________________________________________________________ -->

				<div class="row">

					<div class="col-sm-12 col-md-12">

						<div class="panel panel-default">
							<div class="panel-heading">
								<h4 class="panel-title">
									<a data-toggle="collapse" href="#carousselObjet">Ses objets</a>
								</h4>
							</div>
						</div>
					</div>
				</div>
				<!-- /caroussel -->
				<div id="carousselObjet" class="collapse">
					<div class="col-sm-12 ">

						<div class="row dernieresEntrees">
							<div class="carousel slide" id="myCarousel">
								<div class="item active">
									<div class="row">
										<ui:repeat var="prop" value="#{mbProfil.membreCourant.propositions}">
										<h:form>
											<div class=" col-md-3 col-sm-9 ">
												<!-- produit 1 DEBUT -->
												<div class="product ">

													<h:commandLink action="#{mbProfil.loadProposition(prop)}"
														value="">
														<div class="image ">
															<img src="#{prop.photos.get(0).url}" alt=""
																class="img-responsive image1"></img>
														</div>
														<!-- /.image -->
														<div class="text">
															<h3>#{prop.intitule}</h3>
															<span class="glyphicon glyphicon-map-marker"
																aria-hidden="true"></span>
															<p class="text-muted">#{prop.localisations.get(0).ville}</p>
															<p class="price">
																#{prop.valeur.valeur} <img
																	src="img/custom/feuille orange.png" alt=""></img>
															</p>

														</div>
														<!-- /.text -->
													</h:commandLink>
												</div>
											</div>
										</h:form>
									</ui:repeat>
									</div>
								</div>
								
								
							</div>
						</div>
					</div>
				</div>
				<!--*** Fin ses Objet*** _________________________________________________________ -->



				<!--*** Ses Envies*** _________________________________________________________ -->
				<!--
				<div class="container">
					<button type="button" class="btn btn-template-main"
						data-toggle="collapse" data-target="#demo">Consulter ses
						envies</button>
						<br></br>
						  -->

				<div class="row">
					<div class="col-md-12">

						<div class="panel-group">
							<div class="panel panel-default">
								<div class="panel-heading">
									<h4 class="panel-title">
										<a data-toggle="collapse" href="#demo">Ses envies</a>
									</h4>
								</div>

								<div id="demo" class="collapse">
									<!-- Premiere envie -->
									<ui:repeat var="envie" value="#{mbObjet.getEnviesAutreMembre(mbObjet.selectedProp.membre)}"
				varStatus="envieStatut">
						<div class="col-md-6 col-sm-12 ">
							<div class="box-simple boxEnvie">
								<div class="text">
									<h4 class="orientationTextLeft borderBottom greenColor">ENVIE
										N° #{envieStatut.index +1}</h4>
									<h3>
										<div class="col-md-10 col-sm-10">#{envie.intitule}</div>
										<div class="col-md-2 col-sm-2">
											
												<h:panelGroup rendered="#{!mbEnvie.valeurVide(envie)}">
									<label> #{envie.valeur.valeur}</label> <img
										src="img/custom/feuille orange.png" alt=""></img>
										</h:panelGroup>
										<h:panelGroup rendered="#{mbEnvie.valeurVide(envie)}">
									<label> ?</label> <img
										src="img/custom/feuille orange.png" alt=""></img>
										</h:panelGroup>
										
										</div>
									</h3>
									<div class="row">
										<div class="col-md-6 col-sm-12 orientationTextLeft">
											<h4>Détails:</h4>
											<p>
												<label> Catégorie: </label> <label class="italic">
													#{envie.categorie.intitule}</label> <br /> <label> Sous-catégorie: </label> <label
													class="italic"> #{envie.sousCategorie.intitule} </label> <br /> <label>
													Distance: </label> <label class="italic"> moins de #{envie.distance} km </label>
											</p>
										</div>
										<div class="col-md-6 col-sm-12 borderLeft orientationTextLeft">
											<h4>Adresses:</h4>
											<ui:repeat var="adresse"
											value="#{mbObjet.getLocalisationByMembre(mbObjet.selectedProp.membre)}">
											<div class="row">

												<p>
													<span class="glyphicon glyphicon-map-marker"
														aria-hidden="true"></span> <label>#{adresse.adresse}<br /> #{adresse.ville}
													</label>

												</p>
											</div>
											</ui:repeat>
										</div>
									</div>
								</div>
								<!-- /.text -->
							</div>
						</div>
						</ui:repeat>
									<!-- deuxième envie -->
									
								</div>
							</div>
						</div>
					</div>
				</div>
				<!--*** Fin Ses envies*** _________________________________________________________ -->

				<!--*** Commentaire*** _________________________________________________________ -->
				<div class="row">
					<div class="col-md-12">
						<div class="panel-group">
							<div class="panel panel-default">
								<div class="panel-heading">
									<h4 class="panel-title">
										<a data-toggle="collapse" href="#collapse1">Ce qu'on dit
											de lui!</a>
									</h4>
								</div>
								<div id="collapse1" class="panel-collapse collapse">
									<ul class="list-group">
										<ui:repeat var="eval" value="#{mbProfil.getEchangesQuandDonneur(mbObjet.selectedProp.membre)}">
										<li class="list-group-item">
											<div class="review-block">

												<div class="row">
													<div class="col-sm-3">
														<img
															src="#{eval.membre.avatar}"
															class="img-rounded"></img>
														<div class="review-block-name">
															<a href="#">#{eval.membre.pseudo}</a>
														</div>
														<div class="review-block-date">
															<h:outputText value="#{eval.dateValidation}"><f:convertDateTime pattern="dd-MM-yyyy"/></h:outputText>
														</div>
													</div>
													<div class="col-sm-9">
														<div class="review-block-rate">
															<h:panelGroup rendered="#{eval.noteDonneur ge 1}">
															<span class="glyphicon glyphicon-star"></span>
															</h:panelGroup>
															<h:panelGroup rendered="#{eval.noteDonneur lt 1}">
															<span class="glyphicon glyphicon-star-empty"></span>
															</h:panelGroup>
															<h:panelGroup rendered="#{eval.noteDonneur ge 2}">
															<span class="glyphicon glyphicon-star"></span>
															</h:panelGroup>
															<h:panelGroup rendered="#{eval.noteDonneur lt 2}">
															<span class="glyphicon glyphicon-star-empty"></span>
															</h:panelGroup>
															<h:panelGroup rendered="#{eval.noteDonneur ge 3}">
															<span class="glyphicon glyphicon-star"></span>
															</h:panelGroup>
															<h:panelGroup rendered="#{eval.noteDonneur lt 3}">
															<span class="glyphicon glyphicon-star-empty"></span>
															</h:panelGroup>
															<h:panelGroup rendered="#{eval.noteDonneur ge 4}">
															<span class="glyphicon glyphicon-star"></span>
															</h:panelGroup>
															<h:panelGroup rendered="#{eval.noteDonneur lt 4}">
															<span class="glyphicon glyphicon-star-empty"></span>
															</h:panelGroup>
															<h:panelGroup rendered="#{eval.noteDonneur ge 5}">
															<span class="glyphicon glyphicon-star"></span>
															</h:panelGroup>
															<h:panelGroup rendered="#{eval.noteDonneur lt 5}">
															<span class="glyphicon glyphicon-star-empty"></span>
															</h:panelGroup>
														</div>
														<div class="review-block-description">#{eval.comDonneur}</div>
													</div>
												</div>
											</div>
										</li>
										</ui:repeat>
										<ui:repeat var="eval" value="#{mbProfil.getEchangesQuandAcheteur(mbObjet.selectedProp.membre)}">
										<li class="list-group-item">
											<div class="review-block">

												<div class="row">
													<div class="col-sm-3">
														<img
															src="#{eval.membre.avatar}"
															class="img-rounded"></img>
														<div class="review-block-name">
															<a href="#">#{eval.proposition.membre.pseudo}</a>
														</div>
														<div class="review-block-date">
															<h:outputText value="#{eval.dateValidation}"><f:convertDateTime pattern="dd-MM-yyyy"/></h:outputText>
														</div>
													</div>
													<div class="col-sm-9">
														<div class="review-block-rate">
															<h:panelGroup rendered="#{eval.noteChercheur ge 1}">
															<span class="glyphicon glyphicon-star"></span>
															</h:panelGroup>
															<h:panelGroup rendered="#{eval.noteChercheur lt 1}">
															<span class="glyphicon glyphicon-star-empty"></span>
															</h:panelGroup>
															<h:panelGroup rendered="#{eval.noteChercheur ge 2}">
															<span class="glyphicon glyphicon-star"></span>
															</h:panelGroup>
															<h:panelGroup rendered="#{eval.noteChercheur lt 2}">
															<span class="glyphicon glyphicon-star-empty"></span>
															</h:panelGroup>
															<h:panelGroup rendered="#{eval.noteChercheur ge 3}">
															<span class="glyphicon glyphicon-star"></span>
															</h:panelGroup>
															<h:panelGroup rendered="#{eval.noteChercheur lt 3}">
															<span class="glyphicon glyphicon-star-empty"></span>
															</h:panelGroup>
															<h:panelGroup rendered="#{eval.noteChercheur ge 4}">
															<span class="glyphicon glyphicon-star"></span>
															</h:panelGroup>
															<h:panelGroup rendered="#{eval.noteChercheur lt 4}">
															<span class="glyphicon glyphicon-star-empty"></span>
															</h:panelGroup>
															<h:panelGroup rendered="#{eval.noteChercheur ge 5}">
															<span class="glyphicon glyphicon-star"></span>
															</h:panelGroup>
															<h:panelGroup rendered="#{eval.noteChercheur lt 5}">
															<span class="glyphicon glyphicon-star-empty"></span>
															</h:panelGroup>
														</div>
														<div class="review-block-description">#{eval.comChercheur}</div>
													</div>
												</div>
											</div>
										</li>
										</ui:repeat>
									</ul>
									
								</div>
							</div>
						</div>
					</div>
				</div>
				<!--*** Fin Commentaires*** _________________________________________________________ -->

			</div>
			<!-- FIN DU CORPS DE LA PAGE -->
			<!-- owl carousel -->



		</ui:define>
	</ui:composition>
</h:body>
</html>
