<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

<h:head>
	<title>COMPTE - MES OBJETS</title>
</h:head>
<h:body bgcolor='white'>

	<ui:composition template="/WEB-INF/templates/templateCompte.xhtml">
		<ui:define name="content">
			<div id="objets">
				<div class="row products">
					<ui:repeat var="proposition"
						value="#{mbCompteObjet.proposDuMembre}">
						<!-- produits DEBUT -->
						<div class="col-sm-6 col-md-6">
							<div class="product ">
								<h:form id="formObjet">
									<div class="image ">
										<img src="img/iPhone.jpg" alt="Iphone"></img>

									</div>
									<!-- /.image -->
									<div class="text">
										<h3>${proposition.intitule}</h3>
										<h:commandButton value="modif"
											onclick="$('#modalObjet').modal('show');"
											styleClass="btn btn-default">
											<f:ajax render=":formModifObjet:modifObjet" execute="@form"
												event="click"
												listener="#{mbCompteObjet.listnerSelectionObjet(proposition)}"></f:ajax>
										</h:commandButton>
										<h:commandButton value="suppression"
											onclick="$('#suppressionObjet').modal('show');"
											styleClass="btn btn-default">
											<f:ajax event="click"></f:ajax>
										</h:commandButton>

									</div>
									<!-- /.text -->
								</h:form>
							</div>
						</div>
					</ui:repeat>
					<!-- produits FIN  -->
				</div>

				<!-- DEBUT BOUTON AJOUTER -->


				<!-- ******************************MODALE AJOUTER DEBUT****************************** -->

				<div class="modal fade" id="modalObjet" role="dialog">
					<div class="modal-dialog">

						<!-- Modal content-->
						<div class="modal-content">
							<h:form id="formModifObjet">
								<h:panelGroup id="modifObjet">
									<div class="modal-header">
										<button type="button" class="close" data-dismiss="modal">x</button>
										<h4 class="modal-title">Modification de la proposition :
											${mbCompteObjet.propositionSelected.intitule}</h4>

									</div>
									<div class="modal-body">
										<br></br>
										<div class="row ">
											<div class="col-sm-4">
												<div class="image ">
													<a href="#"> <img src="img/camera-flat.png"
														alt="Appareil-photo" class="img-responsive"></img>
													</a>
												</div>
											</div>
											<div class="col-sm-4">
												<div class="image ">
													<a href="#"> <img src="img/camera-flat.png"
														alt="Appareil-photo" class="img-responsive"></img>
													</a>
												</div>
											</div>
											<div class="col-sm-4">
												<div class="image ">
													<a href="#"> <img src="img/camera-flat.png"
														alt="Appareil-photo" class="img-responsive"></img>
													</a>
												</div>
											</div>
										</div>
										<br></br>
										<div class="row">
											<div class="col-md-6">
												<div class="form-group">
													<input class="form-control" name="string_search"
														placeholder="Intitulé"
														value="#{mbCompteObjet.propositionSelected.intitule}"
														type="text"></input>


												</div>
												<div class="form-group selecteur" id="catDeLObjet">
												
													<h:selectOneMenu styleClass="selectpicker form-control" value="#{mbCompteObjet.propositionSelected.categorie.idCategorie}">
														<f:selectItems value="#{mbCompteObjet.allCategorie}" var="categorie" itemLabel="${categorie.intitule}" itemValue="${categorie.idCategorie}" />
													</h:selectOneMenu>
												</div>

												<div class="form-group selecteur" id="sousCatDeLObjet">
													<h:selectOneMenu styleClass="selectpicker form-control" value="#{mbCompteObjet.propositionSelected.sousCategorie.idCategorie}">
														<f:selectItems value="#{mbCompteObjet.getAllSousCategorie(mbCompteObjet.propositionSelected.categorie.idCategorie)}" var="categorie" itemLabel="${categorie.intitule}" itemValue="${categorie.idCategorie}" />
													</h:selectOneMenu>
												</div>

												<div class="form-group selecteur" id="etatDeLObjet">
														<h:selectOneMenu styleClass="selectpicker form-control" value="#{mbCompteObjet.propositionSelected.etat.idEtat}">
														<f:selectItems value="#{mbCompteObjet.allEtat}" var="etat" itemLabel="${etat.intitule}" itemValue="${etat.idEtat}"/>
													</h:selectOneMenu>
												</div>
												
												<div class="form-group selecteur" id="valeurDeLObjet">
														<h:selectOneMenu styleClass="selectpicker form-control" value="#{mbCompteObjet.propositionSelected.valeur.idValeur}">
														<f:selectItems value="#{mbCompteObjet.allValeur}" var="valeur" itemLabel="${valeur.intitule}" itemValue="${valeur.idValeur}" />
													</h:selectOneMenu>
												</div>											

												<!-- Checkbox-->

												<h:selectManyCheckbox value="">
												<f:selectItems value="#{mbCompteObjet.adresseByMembre}"></f:selectItems>												
												</h:selectManyCheckbox>
									 
												  
											</div>
										</div>
										<div class="modal-footer">
											<h:commandButton action="#{mbCompteObjet.updateObjet()}" value="Valider" styleClass="btn btn-vert btn-lg" onclick="$('#modalObjet').modal('hide');"></h:commandButton>

											<button type="button" class="btn btn-vert btn-lg"
												data-dismiss="modal">Annuler</button>
										</div>

									</div>
								</h:panelGroup>
							</h:form>
						</div>

					</div>
				</div>

				<!-- ******************************MODALE FIN AJOUTER****************************** -->

				<!-- ******************************MODALE SUPPRIMER DEBUT****************************** -->

				<!-- Modale Suppression objet-->
				<div class="modal fade" id="suppressionObjet" role="dialog">
					<div class="modal-dialog">

						<div class="modal-content">
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal">x</button>
								<h4 class="modal-title">Confirmation de la suppression</h4>
							</div>
							<div class="modal-body">

								<form id="creation_objet" name="top_search" method="get"
									autocomplete="on" action="#">
									<div class="row ">
										<div class="col-sm-12 orientationCenter">
											<p>Êtes-vous certain(e) de vouloir supprimer cet objet ?</p>
										</div>
									</div>
									<div class="modal-footer">
										<button type="submit" class="btn btn-vert btn-lg"
											data-dismiss="modal">Oui</button>
										<button type="button" class="btn btn-vert btn-lg"
											data-dismiss="modal">Non</button>
									</div>
								</form>
							</div>
						</div>
					</div>
				</div>


				<!-- ******************************MODALE SUPPRIMER FIN****************************** -->

				<div class="col-md-12 col-sm-12 CentrerBoutons">
					<button type="submit" class="btn btn-default" data-placement="top"
						title="" data-original-title="Echanger contre des feuilles"
						data-toggle="modal" data-target="#modalObjet">
						<h5>
							<span class="glyphicon glyphicon-plus"></span> Ajouter un objet
						</h5>
					</button>
				</div>


			</div>

		</ui:define>
	</ui:composition>
</h:body>
</html>
