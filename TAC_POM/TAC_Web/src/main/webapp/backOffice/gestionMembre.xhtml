<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head>
	<title>COMPTE - MES ECHANGES</title>
</h:head>
<h:body>

	<ui:composition template="/WEB-INF/templates/templateBack.xhtml">
		<ui:define name="contentBO">

			<!-- Content Header (Page header) -->
			<section class="content-header">
				<h1>
					Tableau de bord <small>Gestion des membres</small>
				</h1>
				<ol class="breadcrumb">
					<li><a href="index.xhtml"><i class="fa fa-dashboard"></i>
							Tableau de bord</a></li>
					<li class="active">Gestion des membres</li>
				</ol>
			</section>

			<!-- Main content -->
			<section class="content">
				<!-- Small boxes (Stat box) -->


				<div class="row">

					<section class="col-lg-12 connectedSortable">

						<div class="col-md-12">
							<!-- USERS LIST -->
							<div class="box box-danger">
								<div class="box-header with-border">
									<h3 class="box-title">Tous les membres actifs</h3>

									<div class="box-tools pull-right">
										<span class="label label-danger">#{mbBackMembre.allMembresActifs.size()}
											membres</span>
										<button type="button" class="btn btn-box-tool"
											data-widget="collapse">
											<i class="fa fa-minus"></i>
										</button>
										<button type="button" class="btn btn-box-tool"
											data-widget="remove">
											<i class="fa fa-times"></i>
										</button>
									</div>
								</div>
								<!-- /.box-header -->
								<div class="box-body no-padding">
									<ul class="users-list clearfix">
										<ui:repeat var="membre"
											value="#{mbBackMembre.allMembresActifs}">
											<li><img src="../#{membre.avatar}" style="height: 125px"
												alt="User Image"></img> 
												<h:form>
													<h:commandButton styleClass="btn btn-primary btn-block"
														value="#{membre.pseudo}"
														onclick="$('#bs-example-modal-lg2').modal('show');"
														data-toggle="modal" data-target="#bs-example-modal-lg2">
														<f:ajax event="click"
															listener="#{mbBackMembre.loadMembre(membre)}"
															render=":toto" />
													</h:commandButton>
													<span class="users-list-date">#{membre.nom}
														#{membre.prenom}</span>
												</h:form>
												</li>
										</ui:repeat>

									</ul>
									<!-- /.users-list -->
								</div>
							</div>
							<!--/.box -->
						</div>

					</section>

					<section class="col-lg-6 connectedSortable"></section>
					<div class="col-md-9">
						<!-- USERS LIST -->
						<div class="box box-danger">
							<div class="box-header with-border">
								<h3 class="box-title">Tous les membres Radiés</h3>

								<div class="box-tools pull-right">
									<span class="label label-danger">#{mbBackMembre.allMembresRadies.size()}
										membres</span>
									<button type="button" class="btn btn-box-tool"
										data-widget="collapse">
										<i class="fa fa-minus"></i>
									</button>
									<button type="button" class="btn btn-box-tool"
										data-widget="remove">
										<i class="fa fa-times"></i>
									</button>
								</div>
							</div>
							<!-- /.box-header -->
							<div class="box-body no-padding">
								<ul class="users-list clearfix">
									<ui:repeat var="membre"
										value="#{mbBackMembre.allMembresRadies}">
										<li><img src="../#{membre.avatar}" style="height: 125px"
											alt="User Image"></img> <h:form>
												<h:commandButton styleClass="btn btn-primary btn-block"
													value="#{membre.pseudo}"
													onclick="$('#bs-example-modal-lg2').modal('show');"
													data-toggle="modal" data-target="#bs-example-modal-lg2">
													<f:ajax event="click"
														listener="#{mbBackMembre.loadMembre(membre)}" render=":toto" />
												</h:commandButton>
												<span class="users-list-date">#{membre.nom}
													#{membre.prenom}</span>
											</h:form></li>
									</ui:repeat>

								</ul>
								<!-- /.users-list -->
							</div>
						</div>
						<!--/.box -->
					</div>
				</div>
			</section>
			<section class="col-lg-8 connectedSortable">

				<div class="modal fade" id="bs-example-modal-lg2" role="dialog">
					<div class="modal-dialog">
						<div class="modal-content">
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal"
									aria-label="Close">
									<span aria-hidden="true"></span>
								</button>
								<h4 class="modal-title">Membre </h4>
							</div>
							<div class="modal-body">
								<div class="box box-info">

									<div class="box-header with-border">
										<h3 class="box-title">Information du membre</h3>
									</div>

									<h:panelGroup layout="block" id="toto">
										<div class="box-body">
											<h4><STRONG>Pseudo</STRONG></h4>
											<div class="form-group">#{mbBackMembre.selectedMembre.pseudo}</div>
											<h4><STRONG>Nom Prénom</STRONG></h4>
											<div class="form-group">#{mbBackMembre.selectedMembre.nom} #{mbBackMembre.selectedMembre.prenom}</div>
											<h4><STRONG>Date Naissance</STRONG></h4>
											<div class="form-group">#{mbBackMembre.selectedMembre.dateNaissance}</div>
											<h4><STRONG>Tél :</STRONG></h4>
											<div class="form-group">#{mbBackMembre.selectedMembre.telephone}</div>
											<h4><STRONG>Mail</STRONG></h4>
											<div class="form-group">#{mbBackMembre.selectedMembre.mail}</div>
											<h4><STRONG>Type Compte</STRONG></h4>
											<div class="form-group">#{mbBackMembre.selectedMembre.compte.type}</div>
											<h4><STRONG>Date inscription</STRONG></h4>
											<div class="form-group">#{mbBackMembre.selectedMembre.dateInscription}</div>
											<h4><STRONG>Date Radiation</STRONG></h4>
											<div class="form-group">#{mbBackMembre.selectedMembre.dateRadiation}</div>
											<h4><STRONG>Motif Radiation</STRONG></h4>
											<div class="form-group">#{mbBackMembre.selectedMembre.motifRadiation}</div>
											<h4><STRONG>Adresses</STRONG></h4>
											<ui:repeat var="loc" value="#{mbBackMembre.selectedMembre.localisations}">
											<div class="form-group">#{loc.titreAdresse} : #{loc.adresse} #{loc.codePostal} #{loc.ville}</div>
											</ui:repeat>
											<h:form>
											<h:commandButton action="#" value="Radier" class="btn btn-block btn-danger"  />
											</h:form>
										</div>
									</h:panelGroup>
									<!-- /.box-body -->

								</div>
							</div>

						</div>
						<!-- /.modal-content -->
					</div>
					<!-- /.modal-dialog -->
				</div>
			</section>

		</ui:define>
	</ui:composition>
</h:body>
</html>