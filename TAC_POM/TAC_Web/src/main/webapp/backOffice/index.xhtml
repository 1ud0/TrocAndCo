<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head>
	<title>COMPTE - MES ECHANGES</title>
</h:head>
<h:body>

	<ui:composition template="/WEB-INF/templates/templateBack.xhtml">
		<ui:define name="contentBO">

			<script type="text/javascript" src="../js/mapBack.js"></script>
			<script
				src="https://maps.googleapis.com/maps/api/js?v=3.exp&amp;key=AIzaSyAFZnM_O8BFFutbT4s_XlCFPA5XH9DSwsQ&amp;callbakc=init_map"
				type="text/javascript">
	
			</script>

			<style>
#gmap_canvas img {
	max-width: none !important;
	background: none !important
}
</style>
			<section class="content-header">
				<h1>
					Tableau de bord <small>Control panel</small>
				</h1>
				<ol class="breadcrumb">
					<li><a href="index.xhtml"><i class="fa fa-dashboard"></i>
							Home</a></li>
					<li class="active">Tableau de bord</li>
				</ol>
			</section>

			<!-- Main content -->
			<section class="content">
				<!-- Small boxes (Stat box) -->
				<div class="row">
					<div class="col-lg-3 col-xs-6">
						<!-- small box -->
						<div class="small-box bg-aqua">
							<div class="inner">
								<h3>123</h3>

								<p>Nouveaux objets</p>
							</div>
							<div class="icon">
								<i class="ion ion-bag"></i>
							</div>
							<a href="gestionObjets.xhtml" class="small-box-footer">Plus
								d'informations <i class="fa fa-arrow-circle-right"></i>
							</a>
						</div>
					</div>
					<!-- ./col -->
					<div class="col-lg-3 col-xs-6">
						<!-- small box -->
						<div class="small-box bg-green">
							<div class="inner">
								<h3>#{mbBackEchange.all.size()}</h3>

								<p>Echanges</p>
							</div>
							<div class="icon">
								<i class="ion ion-stats-bars"></i>
							</div>
							<a href="gestionEchanges.xhtml" class="small-box-footer">Plus
								d'informations<i class="fa fa-arrow-circle-right"></i>
							</a>
						</div>
					</div>
					<!-- ./col -->
					<div class="col-lg-3 col-xs-6">
						<!-- small box -->
						<div class="small-box bg-yellow">
							<div class="inner">
								<h3>#{mbBackMembre.allMembresActifs.size()}</h3>

								<p>Membres inscrits</p>
							</div>
							<div class="icon">
								<i class="ion ion-person-add"></i>
							</div>
							<a href="gestionMembre.xhtml" class="small-box-footer">Plus
								d'informations <i class="fa fa-arrow-circle-right"></i>
							</a>
						</div>
					</div>
					<div class="col-lg-3 col-xs-6">
						<!-- small box -->
						<div class="small-box bg-red">
							<div class="inner">
								<h3>Parametres</h3>

								<p>Paramétrage du site</p>
							</div>
							<div class="icon">
								<i class="ion ion-pie-graph"></i>
							</div>
							<a href="gestionParametrage.xhtml" class="small-box-footer">
								plus d'informations <i class="fa fa-arrow-circle-right"></i>
							</a>
						</div>
					</div>


				</div>

			</section>



			<!-- Main content -->


			<section class="content">
				<div class="row">
					<div class="col-md-6">
						<!-- AREA CHART -->
						<div class="box box-success">
							<div class="box-header with-border">
								<h3 class="box-title">Nombre de nouveaux adhérents par mois</h3>

								<div class="box-tools pull-right">
									<button type="button" class="btn btn-box-tool"
										data-widget="collapse">
										<i class="fa fa-minus"></i>
									</button>
									<button type="button" class="btn btn-box-tool"
										data-widget="remove">
										<i class="fa fa-times"></i>
									</button>
								</div>
							</div>
							<div class="box-body">
								<div class="chart">
									<canvas id="barChart1" style="height: 230px"></canvas>
								</div>
							</div>
							<!-- /.box-body -->
						</div>
						<!-- /.box -->

						<!-- DONUT CHART -->
						<div class="box box-danger">
							<div class="box-header with-border">
								<h3 class="box-title">Répartition des objets par catégories</h3>

								<div class="box-tools pull-right">
									<button type="button" class="btn btn-box-tool"
										data-widget="collapse">
										<i class="fa fa-minus"></i>
									</button>
									<button type="button" class="btn btn-box-tool"
										data-widget="remove">
										<i class="fa fa-times"></i>
									</button>
								</div>
							</div>
							<div class="box-body">
								<canvas id="pieChart" style="height: 250px"></canvas>
							</div>
							<!-- /.box-body -->
						</div>
						<!-- /.box -->

					</div>
					<!-- /.col (LEFT) -->
					<div class="col-md-6">
						<!-- LINE CHART -->
						<div class="box box-success">
							<div class="box-header with-border">
								<h3 class="box-title">Nombre d'échanges finalisés par mois</h3>

								<div class="box-tools pull-right">
									<button type="button" class="btn btn-box-tool"
										data-widget="collapse">
										<i class="fa fa-minus"></i>
									</button>
									<button type="button" class="btn btn-box-tool"
										data-widget="remove">
										<i class="fa fa-times"></i>
									</button>
								</div>
							</div>
							<div class="box-body">
								<div class="chart">
									<canvas id="barChart2" style="height: 230px"></canvas>
								</div>
							</div>
							<!-- /.box-body -->
						</div>
						<!-- /.box -->

						<!-- BAR CHART -->
						<div class="box box-success">
							<div class="box-header with-border">
								<h3 class="box-title">Nombre d'ajouts de nouveaux objets par mois</h3>

								<div class="box-tools pull-right">
									<button type="button" class="btn btn-box-tool"
										data-widget="collapse">
										<i class="fa fa-minus"></i>
									</button>
									<button type="button" class="btn btn-box-tool"
										data-widget="remove">
										<i class="fa fa-times"></i>
									</button>
								</div>
							</div>
							<div class="box-body">
								<div class="chart">
									<canvas id="barChart" style="height: 230px"></canvas>
								</div>
							</div>
							<!-- /.box-body -->
						</div>
						
						
						<!-- /.box -->

					</div>
					<!-- /.col (RIGHT) -->
				</div>
				<!-- /.row -->

			</section>
			<section class="content">
				<!-- Small boxes (Stat box) -->
				<div class="row">
					<div class="col-md-12">



						<div style='overflow: hidden; height: 600px;'>
							<div id='gmap_canvas' style='height: 600px;'></div>

						</div>
					</div>
				</div>
			</section>
			<!-- /.content -->
			<div>
				<table id="TabLoc" style="display: none;">
					<thead>
						<tr>
							<th>Nom membre</th>
							<th>lat</th>
							<th>lng</th>
						</tr>
					</thead>
					<tbody>
						<ui:repeat var="membre" value="#{mbBackMembre.allMembresActifs}">
							<tr>
								<td class="tdNomMembre">#{membre.pseudo}</td>
								<td class="tdLat">#{membre.localisations.get(0).latitude}</td>
								<td class="tdLng">#{membre.localisations.get(0).longitude}</td>
								<td class="avatar">#{membre.avatar}</td>
							</tr>
						</ui:repeat>
					</tbody>
				</table>
			</div>


			<div>
				<table id="TabCat" style="display: none;">
					<tbody>
						<ui:repeat var="cat" value="#{mbBackParam.listCategoriesGraph}">
							<tr>
								<td class="intituleCat">#{cat.intitule}</td>
							</tr>
						</ui:repeat>
					</tbody>
				</table>
				<table id="TabCat" style="display: none;">
					<tbody>
						<ui:repeat var="long" value="#{mbBackParam.listLongGraph}">
							<tr>
								<td class="longGraph">#{long.longValue()}</td>
							</tr>
						</ui:repeat>
					</tbody>
				</table>
				<table id="TabGraphnbMBymois" style="display: none;">
					<tbody>

						<ui:repeat var="mpm" value="#{mbBackParam.listLongNbMembreByMois}">
							<tr>
								<td class="nbMemByM">#{mpm.longValue()}</td>
							</tr>
						</ui:repeat>
						<ui:repeat var="datempm"
							value="#{mbBackParam.listStringNbMembreByMois}">
							<tr>
								<td class="stringMoisMemByM">#{datempm}</td>
							</tr>
						</ui:repeat>
					</tbody>
				</table>
				
				<table id="TabGraphnbMBymois" style="display: none;">
					<tbody>

						<ui:repeat var="ppm" value="#{mbBackParam.listLongNbPropByMois}">
							<tr>
								<td class="nbPropByM">#{ppm.longValue()}</td>
							</tr>
						</ui:repeat>
						<ui:repeat var="dateppm"
							value="#{mbBackParam.listStringNbPropByMois}">
							<tr>
								<td class="stringMoisPropByM">#{dateppm}</td>
							</tr>
						</ui:repeat>
					</tbody>
				</table>
				
				<table id="TabEchangeMBymois" style="display: none;">
					<tbody>

						<ui:repeat var="epm" value="#{mbBackParam.listechangeGraph}">
							<tr>
								<td class="nbeByM">#{epm.longValue()}</td>
							</tr>
						</ui:repeat>
						<ui:repeat var="dateepm"
							value="#{mbBackParam.listMoisEchange}">
							<tr>
								<td class="stringMoisEchangeByM">#{dateepm}</td>
							</tr>
						</ui:repeat>
					</tbody>
				</table>

				
			</div>

		</ui:define>
	</ui:composition>
</h:body>
</html>