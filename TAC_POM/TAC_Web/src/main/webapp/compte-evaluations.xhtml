<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head>
	<title>COMPTE - MES EVALUATIONS</title>
</h:head>
<h:body bgcolor='white'>

	<ui:composition template="/WEB-INF/templates/templateCompte.xhtml">

		<ui:define name="headPerso">
			<f:metadata>
				<f:event listener="#{mbIdentif.securePage()}" type="preRenderView"></f:event>
			</f:metadata>
		</ui:define>

		<ui:define name="content">

			<div class="introRubrique">
				<p class="lead">Retrouvez toutes les évaluations qui vous ont
					été attribuées par les autres membres.</p>
				<p class="text-muted"></p>
			</div>

			<div class="row">
				<!--***partie pour la photo et les info perso*** _________________________________________________________ -->
				<div class="col-md-6">

					<div class="col-sm-4">
						<div class="image">
							<a href=""> <img src="#{mbCompteEvaluation.membreCourant.avatar}" alt=""
								class="img-responsive img-circle tailleMaxImage"></img></a>
						</div>
					</div>
					<div class="col-sm-8">
						<h4>#{mbCompteEvaluation.membreCourant.pseudo}</h4>
						<p>#{mbCompteEvaluation.membreCourant.nom}
							#{mbCompteEvaluation.membreCourant.prenom}</p>
						<p>#{mbCompteEvaluation.membreCourant.localisations.get(0).adresse}</p>
						<p>#{mbCompteEvaluation.membreCourant.localisations.get(0).codePostal} #{mbCompteEvaluation.membreCourant.localisations.get(0).ville} </p>
					</div>

				</div>
				<!--***Fin partie pour la photo et les info perso*** _________________________________________________________ -->
				<!--***Note moyenne et étoiles*** _________________________________________________________ -->
				<div class="col-md-6">

						<div class="row">
							<div class="col-xs-6 col-md-6 text-center">
								<h:panelGroup rendered="#{mbObjet.NoteVide(mbIdentif.membreConnected)}">
									<p class="rating-num">
										-
									</p>
									</h:panelGroup>
									<h:panelGroup rendered="#{!mbObjet.NoteVide(mbIdentif.membreConnected)}">
									<p class="rating-num">
										<h:outputText value="#{mbObjet.getNoteMoyenne(mbIdentif.membreConnected)}" />
										
									</p>
									</h:panelGroup>
								<div class="rating">
								
									<h:panelGroup rendered="#{mbProfil.getNoteMoyenne(mbIdentif.membreConnected) ge 1}">
									<span class="glyphicon glyphicon-star"></span>
									</h:panelGroup>
									<h:panelGroup rendered="#{mbProfil.getNoteMoyenne(mbIdentif.membreConnected) lt 1}">
									<span class="glyphicon glyphicon-star-empty"></span>
									</h:panelGroup>
									<h:panelGroup rendered="#{mbProfil.getNoteMoyenne(mbIdentif.membreConnected) ge 2}">
									<span class="glyphicon glyphicon-star"></span>
									</h:panelGroup>
									<h:panelGroup rendered="#{mbProfil.getNoteMoyenne(mbIdentif.membreConnected) lt 2}">
									<span class="glyphicon glyphicon-star-empty"></span>
									</h:panelGroup>
									<h:panelGroup rendered="#{mbProfil.getNoteMoyenne(mbIdentif.membreConnected) ge 3}">
									<span class="glyphicon glyphicon-star"></span>
									</h:panelGroup>
									<h:panelGroup rendered="#{mbProfil.getNoteMoyenne(mbIdentif.membreConnected) lt 3}">
									<span class="glyphicon glyphicon-star-empty"></span>
									</h:panelGroup>
									<h:panelGroup rendered="#{mbProfil.getNoteMoyenne(mbIdentif.membreConnected) ge 4}">
									<span class="glyphicon glyphicon-star"></span>
									</h:panelGroup>
									<h:panelGroup rendered="#{mbProfil.getNoteMoyenne(mbIdentif.membreConnected) lt 4}">
									<span class="glyphicon glyphicon-star-empty"></span>
									</h:panelGroup>
									<h:panelGroup rendered="#{mbProfil.getNoteMoyenne(mbIdentif.membreConnected) ge 5}">
									<span class="glyphicon glyphicon-star"></span>
									</h:panelGroup>
									<h:panelGroup rendered="#{mbProfil.getNoteMoyenne(mbIdentif.membreConnected) lt 5}">
									<span class="glyphicon glyphicon-star-empty"></span>
									</h:panelGroup>
								</div>
								<div>
									<span class="glyphicon glyphicon-user"></span> #{mbCompteEvaluation.echangesQuandChercheur.size()+mbCompteEvaluation.echangesQuandDonneur.size()}
								</div>
							</div>
							<div class="col-xs-6 col-md-6">
								<div class="row rating-desc">
									<div class="col-xs-3 col-md-3 text-right">
										<span class="glyphicon glyphicon-star"></span>5
									</div>
									<div class="col-xs-8 col-md-9">
										<div class="progress progress-striped">
											<div class="progress-bar progress-bar-success"
												role="progressbar" aria-valuenow="20" aria-valuemin="0"
												aria-valuemax="100" style="width: #{mbCompteEvaluation.getNombreNoteValeur(5)}%">
												<span class="sr-only">80%</span>
											</div>
										</div>
									</div>
									<!-- end 5 -->
									<div class="col-xs-3 col-md-3 text-right">
										<span class="glyphicon glyphicon-star"></span>4
									</div>
									<div class="col-xs-8 col-md-9">
										<div class="progress">
											<div class="progress-bar progress-bar-success"
												role="progressbar" aria-valuenow="20" aria-valuemin="0"
												aria-valuemax="100" style="width: #{mbCompteEvaluation.getNombreNoteValeur(4)}%">
												<span class="sr-only">60%</span>
											</div>
										</div>
									</div>
									<!-- end 4 -->
									<div class="col-xs-3 col-md-3 text-right">
										<span class="glyphicon glyphicon-star"></span>3
									</div>
									<div class="col-xs-8 col-md-9">
										<div class="progress">
											<div class="progress-bar progress-bar-info"
												role="progressbar" aria-valuenow="20" aria-valuemin="0"
												aria-valuemax="100" style="width: #{mbCompteEvaluation.getNombreNoteValeur(3)}%">
												<span class="sr-only">40%</span>
											</div>
										</div>
									</div>
									<!-- end 3 -->
									<div class="col-xs-3 col-md-3 text-right">
										<span class="glyphicon glyphicon-star"></span>2
									</div>
									<div class="col-xs-8 col-md-9">
										<div class="progress">
											<div class="progress-bar progress-bar-warning"
												role="progressbar" aria-valuenow="20" aria-valuemin="0"
												aria-valuemax="100" style="width: #{mbCompteEvaluation.getNombreNoteValeur(2)}%">
												<span class="sr-only">20%</span>
											</div>
										</div>
									</div>
									<!-- end 2 -->
									<div class="col-xs-3 col-md-3 text-right">
										<span class="glyphicon glyphicon-star"></span>1
									</div>
									<div class="col-xs-8 col-md-9">
										<div class="progress">
											<div class="progress-bar progress-bar-danger"
												role="progressbar" aria-valuenow="80" aria-valuemin="0"
												aria-valuemax="100" style="width: #{mbCompteEvaluation.getNombreNoteValeur(1)}%">
												<span class="sr-only">15%</span>
											</div>
										</div>
									</div>
									<!-- end 1 -->
								</div>
								<!-- end row -->
							</div>
						</div>

					</div>
			</div>

			<!--*** FIN Note moyenne et étoiles*** _________________________________________________________ -->
			<!--*** Commentaire*** _________________________________________________________ -->
			<div class="row">
				<div class="col-md-12">
					<div class="panel-group">
						<div class="panel panel-default">
							<div class="panel-heading">
								<h4 class="panel-title">
									<a data-toggle="collapse" href="#collapse1">Mes
										Commentaires</a>
								</h4>
							</div>
							<div id="collapse1" class="panel-collapse collapse">
							<h:panelGroup rendered="#{empty mbCompteEvaluation.echangesQuandDonneur and empty mbCompteEvaluation.echangesQuandChercheur}">
								<br></br>
								<div class="col-md-6 col-sm-12 ">Ce membre n'a pas encore finalisé d'échange.</div>
							</h:panelGroup>
									<ul class="list-group">
										<ui:repeat var="eval" value="#{mbCompteEvaluation.echangesQuandDonneur}">
										<li class="list-group-item">
											<div class="review-block">

												<div class="row">
													<div class="col-sm-3">
														<img
															src="#{eval.membre.avatar}"
															class="img-rounded" style="height: 100px"></img>
														<div class="review-block-name">
															<a href="#">#{eval.membre.pseudo}</a>
														</div>
														<div class="review-block-date">
															<h:outputText value="#{eval.dateValidation}"><f:convertDateTime pattern="dd-MM-yyyy"/></h:outputText>
														</div>
													</div>
													<div class="col-sm-9">
														<div class="review-block-rate">
															<h:panelGroup rendered="#{eval.noteDonneur ge 1}">
															<span class="glyphicon glyphicon-star"></span>
															</h:panelGroup>
															<h:panelGroup rendered="#{eval.noteDonneur lt 1}">
															<span class="glyphicon glyphicon-star-empty"></span>
															</h:panelGroup>
															<h:panelGroup rendered="#{eval.noteDonneur ge 2}">
															<span class="glyphicon glyphicon-star"></span>
															</h:panelGroup>
															<h:panelGroup rendered="#{eval.noteDonneur lt 2}">
															<span class="glyphicon glyphicon-star-empty"></span>
															</h:panelGroup>
															<h:panelGroup rendered="#{eval.noteDonneur ge 3}">
															<span class="glyphicon glyphicon-star"></span>
															</h:panelGroup>
															<h:panelGroup rendered="#{eval.noteDonneur lt 3}">
															<span class="glyphicon glyphicon-star-empty"></span>
															</h:panelGroup>
															<h:panelGroup rendered="#{eval.noteDonneur ge 4}">
															<span class="glyphicon glyphicon-star"></span>
															</h:panelGroup>
															<h:panelGroup rendered="#{eval.noteDonneur lt 4}">
															<span class="glyphicon glyphicon-star-empty"></span>
															</h:panelGroup>
															<h:panelGroup rendered="#{eval.noteDonneur ge 5}">
															<span class="glyphicon glyphicon-star"></span>
															</h:panelGroup>
															<h:panelGroup rendered="#{eval.noteDonneur lt 5}">
															<span class="glyphicon glyphicon-star-empty"></span>
															</h:panelGroup>
														</div>
														<div class="review-block-description">#{eval.comDonneur}</div>
													</div>
												</div>
											</div>
										</li>
										</ui:repeat>
										<ui:repeat var="eval" value="#{mbCompteEvaluation.echangesQuandChercheur}">
										<li class="list-group-item">
											<div class="review-block">

												<div class="row">
													<div class="col-sm-3">
														<img
															src="#{eval.proposition.membre.avatar}"
															class="img-rounded" style="height: 100px"></img>
														<div class="review-block-name">
															<a href="#">#{eval.proposition.membre.pseudo}</a>
														</div>
														<div class="review-block-date">
															<h:outputText value="#{eval.dateValidation}"><f:convertDateTime pattern="dd-MM-yyyy"/></h:outputText>
														</div>
													</div>
													<div class="col-sm-9">
														<div class="review-block-rate">
															<h:panelGroup rendered="#{eval.noteChercheur ge 1}">
															<span class="glyphicon glyphicon-star"></span>
															</h:panelGroup>
															<h:panelGroup rendered="#{eval.noteChercheur lt 1}">
															<span class="glyphicon glyphicon-star-empty"></span>
															</h:panelGroup>
															<h:panelGroup rendered="#{eval.noteChercheur ge 2}">
															<span class="glyphicon glyphicon-star"></span>
															</h:panelGroup>
															<h:panelGroup rendered="#{eval.noteChercheur lt 2}">
															<span class="glyphicon glyphicon-star-empty"></span>
															</h:panelGroup>
															<h:panelGroup rendered="#{eval.noteChercheur ge 3}">
															<span class="glyphicon glyphicon-star"></span>
															</h:panelGroup>
															<h:panelGroup rendered="#{eval.noteChercheur lt 3}">
															<span class="glyphicon glyphicon-star-empty"></span>
															</h:panelGroup>
															<h:panelGroup rendered="#{eval.noteChercheur ge 4}">
															<span class="glyphicon glyphicon-star"></span>
															</h:panelGroup>
															<h:panelGroup rendered="#{eval.noteChercheur lt 4}">
															<span class="glyphicon glyphicon-star-empty"></span>
															</h:panelGroup>
															<h:panelGroup rendered="#{eval.noteChercheur ge 5}">
															<span class="glyphicon glyphicon-star"></span>
															</h:panelGroup>
															<h:panelGroup rendered="#{eval.noteChercheur lt 5}">
															<span class="glyphicon glyphicon-star-empty"></span>
															</h:panelGroup>
														</div>
														<div class="review-block-description">#{eval.comChercheur}</div>
													</div>
												</div>
											</div>
										</li>
										</ui:repeat>
									</ul>
									
								</div>
						</div>
					</div>
				</div>
			</div>
			<!--*** Fin Commentaires*** _________________________________________________________ -->





		</ui:define>
	</ui:composition>
</h:body>
</html>
