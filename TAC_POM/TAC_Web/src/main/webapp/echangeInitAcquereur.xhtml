<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head>
	<title>INDEX</title>
</h:head>
<h:body bgcolor='white'>


	<ui:composition template="/WEB-INF/templates/templateEchange.xhtml">
	
		<ui:define name="headPerso">
			<f:metadata>
				<f:event listener="#{mbIdentif.securePage()}" type="preRenderView"></f:event>
			</f:metadata>		
		</ui:define>
		
		<ui:define name="content">
		<h:form>
			<div class="row">

				<div class="col-sm-6 col-sm-12 text-center">

					<p>Echanger contre :</p>

					<div class="row vertical">
						<div class="col-md-5 col-sm-12">
							<button type="submit" class="btn btn-default tailleBouton"
								data-placement="top" title=""
								data-original-title="Echanger contre un objet que vous proposez"
								data-toggle="modal" data-target="#ModalEchangeObjet">
								<p class="taillePolice150">un objet</p>
							</button>
						</div>
						<div class="col-md-2 col-sm-12">
							<p class="taillePoliceOu">ou</p>
						</div>
						<div class="col-md-5 col-sm-12">
						<h:commandButton value="une valeur"
											onclick="$('#ModalEchangeFeuille').modal('show');"
											styleClass="btn btn-default tailleBouton">
											<f:ajax render=":echangeFeuille:echangeFeuillePanel" execute="@form"
												event="click"></f:ajax>
										</h:commandButton>		
						
						</div>
					</div>

				</div>
				<div class="col-sm-6  obcol-sm-12">

					<div class="box-simple box-white same-height"
						style="height: 500px;">
						<h3>Résumé de la proposition</h3>
						<p>#{mbEchange.echangePropose.proposition.intitule}</p>
						<p>CONTRE</p>
						<p>#{mbEchange.echangePropose.prix}<img src="img/custom/feuille.png" class="iconeFeuille" /></p>
					</div>
				</div>


			</div>

			<div class="row">

				<div class="text-center">

					<h:commandButton styleClass="btn btn-vert btn-lg" action="#{mbEchange.ajouterEchange()}" value="Valider" />
					<button type="submit" class="btn btn-vert btn-lg">Annuler</button>
				</div>

			</div>
			
</h:form>

			<!-- Modal echanger contre feuilles-->
			<div class="modal fade" id="ModalEchangeFeuille" role="dialog">
				<div class="modal-dialog">

					<!-- Modal content-->
					<div class="modal-content">
					<h:form id="echangeFeuille">
					<h:panelGroup id="echangeFeuillePanel">
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal">x</button>
							<h4 class="modal-title">Sélectionner une valeur:</h4>
						</div>
						<div class="modal-body">
								<div class="row">
									<div class="col-sm-6 col-md-5 orientationCenter">
										<div class="checkbox">
											<label><h:selectBooleanCheckbox value="#{mbEchange.prixFixe}" /> Prix
												proposé: #{mbEchange.selectedProp.valeur.valeur}<img alt="feuille"
									src="img/custom/feuille.png" class="iconeFeuille"/></label>
										</div>
									</div>
									<div class="col-sm-6 col-md-2">
										<p class="orientationTextCenterEchange">OU</p>
									</div>
									<div class="col-sm-6 col-md-5 orientationCenter">
										<div class="input-group form-group selecteur" id="selecteur">
										<span class="input-group-addon"><img
								src="img/custom/feuille.png" alt="cat" class="iconeFeuille"></img></span>
											<h:selectOneMenu styleClass="selectpicker form-control"
															value="#{mbEchange.valeurPourEchange.valeur}">
															<f:selectItems value="#{mbEchange.valeurs}"
																var="valeur" itemLabel="${valeur.valeur}"
																itemValue="${valeur.idValeur}" />
														</h:selectOneMenu>
										
										</div>
									</div>
								</div>
								<div class="modal-footer">
								<h:commandButton  styleClass="btn btn-vert btn-lg" action="#{mbEchange.parametragePrixEchange()}" value="Valider"  />


									<button type="button" class="btn btn-vert btn-lg"
										data-dismiss="modal">Annuler</button>
								</div>
						</div>
						</h:panelGroup>
					</h:form>
					</div>
				</div>
			</div>
			<!-- Fin Echange Modale echanger contre feuille-->

			<!-- Modal echanger contre un objet-->
			<div class="modal fade" id="ModalEchangeObjet" role="dialog">
				<div class="modal-dialog">
					<!-- Modal content-->
					<div class="modal-content">
					<h:form>
						<div class="modal-header">
							<button type="button" class="close" data-dismiss="modal">x</button>
							<h4 class="modal-title">Sélectionner un objet:</h4>
						</div>
						<div class="modal-body">
							<form name="top_search" method="get" autocomplete="on" action="#">
								<div class="row">
									<div class="col-sm-6 col-md-5 orientationCenter">
										<div class="form-group selecteur" id="selecteur">
											<h:selectOneMenu styleClass="selectpicker form-control"
															value="#{mbEchange.propositionPourEchange.idProposition}">
															<f:selectItems value="#{mbEchange.propositionsMembre}"
																var="proposition" itemLabel="${proposition.intitule}"
																itemValue="${proposition.idProposition}" />
														</h:selectOneMenu>
										</div>
									</div>
									<div class="col-sm-6 col-md-2">
										<p class="orientationTextCenterEchange">OU</p>
									</div>
									<div class="col-sm-6 col-md-5 orientationCenter">
										<button type="submit" class="btn btn-link"
											data-original-title="Echanger contre des feuilles"
											data-toggle="modal" data-target="#modalObjet">Nouvel
											Objet</button>
									</div>
								</div>
								<div class="modal-footer">
									<button type="submit" class="btn btn-vert btn-lg"
										data-dismiss="modal">Valider</button>

									<button type="button" class="btn btn-vert btn-lg"
										data-dismiss="modal">Annuler</button>
								</div>
							</form>
						</div>
						</h:form>
					</div>
				</div>
			</div>
			<!-- Fin Echange Modale echanger contre un objet-->


			

		</ui:define>
	</ui:composition>
</h:body>
</html>
